<div class="container">
  <h1 class="mb-4">Companies</h1>

  <!-- Search Field -->
  <%= form_tag(companies_path, method: :get) do %>
    <div class="input-group mb-3">
      <%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search companies by name" %>
      <button type="submit" class="btn btn-primary">Search</button>
    </div>
  <% end %>

  <!-- Show All Button -->
  <% if params[:search].present? %>
    <%= link_to "Show All Companies", companies_path, class: "btn btn-secondary mb-3" %>
  <% end %>

  <!-- Companies List -->
  <% if @companies.any? %>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Phone Number</th>
            <th>Address</th>
            <th>City</th>
            <th>Country</th>
          </tr>
        </thead>
        <tbody>
          <% @companies.each do |company| %>
            <tr>
              <td><%= link_to company.name, company %></td>
              <td><%= company.phone_number %></td>
              <td><%= company.address %></td>
              <td><%= company.city %></td>
              <td><%= company.country %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <p class="mt-4">No companies found.</p>
  <% end %>

  <!-- New Company Button -->
  <div class="mt-4">
    <%= link_to "New Company", new_company_path, class: "btn btn-primary me-2" %>
    <%= link_to "Back Home", root_path, class: "btn btn-secondary" %>
  </div>
</div>
